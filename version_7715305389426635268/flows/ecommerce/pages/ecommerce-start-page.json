{
 "pageModelVersion": "19.3.1",
 "title": "",
 "description": "",
 "variables": {
  "productsListSDP": {
   "type": "vb/ServiceDataProvider",
   "defaultValue": {
    "endpoint": "products/getProducts",
    "responseType": "getallProductsResponse",
    "itemsPath": "items"
   }
  },
  "shoppingCart": {
			"type": "vb/ArrayDataProvider",
			"defaultValue": {
				"itemType": "product",
				"idAttribute": "id"
			}
		},
  "emptyCart": {
			"type": "object[]",
			"defaultValue": []
		}
 },
 "metadata": {},
 "types": {
  "getallProductsResponse": {
   "items": [
    {
     "id": "number",
     "price": "number",
     "rating": "number",
     "url": "string",
                    "productname": "string"
    }
   ]
  },
  "@decorators.getallProductsResponse": {
			"endpoint": "getall_Products",
			"service": "businessObjects",
			"path": "response"
		},
  "product": {
   "id": "number",
   "price": "number",
   "rating": "number",
   "url": "string",
   "quantity": "string",
            "productname": "string"
  },
  "@decorators.product": {
			"endpoint": "product",
			"service": "businessObjects",
			"path": "response"
		}
 },
 "chains": {
  "ProductClickedAC": {
			"description": "",
			"variables": {
				"detail": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"key": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"current": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				}
			},
			"root": "navigateToPage1",
			"actions": {
				"navigateToPage1": {
					"module": "vb/action/builtin/navigateToPageAction",
					"parameters": {
						"page": "ecommerce-detail"
					}
				}
			}
		},
  "ProductCLickedAC": {
			"description": "",
			"variables": {
				"detail": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"key": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"current": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				}
			},
			"root": "navigateToPage1",
			"actions": {
				"navigateToPage1": {
					"module": "vb/action/builtin/navigateToPageAction",
					"parameters": {
						"page": "ecommerce-detail"
					}
				}
			}
		},
  "ButtonActionChain": {
   "description": "",
   "variables": {
				"detail": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"key": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"current": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				}
			},
   "root": "console",
   "actions": {
    "pushADP": {
					"module": "vb/action/builtin/callModuleFunctionAction",
					"parameters": {
						"module": "[[ $page.functions ]]",
						"functionName": "pushAdp",
						"params": [
							"{{ $chain.variables.current }}",
							"{{ $page.variables.shoppingCart }}",
							"{{ $application.variables.shoppingCartArray }}"
						]
					},
					"outcomes": {
						"success": "assignShoppingCartArray"
					}
				},
    "console": {
     "module": "vb/action/builtin/callModuleFunctionAction",
     "parameters": {
      "module": "[[ $page.functions ]]",
      "functionName": "console",
      "params": [
       "{{ $page.variables.shoppingCart }}",
       "{{ $page.variables.shoppingCart.data }}"
      ]
     },
     "outcomes": {
						"success": "pushADP"
					}
    },
    "assignShoppingCartArray": {
					"module": "vb/action/builtin/assignVariablesAction",
					"parameters": {
						"$application.variables.shoppingCartArray": {
							"source": "{{ $chain.results.pushADP }}",
							"reset": "empty"
						}
					},
					"outcomes": {
						"success": "assignVariables1"
					}
				},
    "assignVariables1": {
					"module": "vb/action/builtin/assignVariablesAction",
					"parameters": {
						"$page.variables.shoppingCart": {
							"source": {
								"data": "{{ $application.variables.shoppingCartArray }}"
							},
							"reset": "none",
							"auto": "always",
							"mapping": {
								"$target.data": {
									"source": "$source.data",
									"reset": "empty"
								}
							}
						}
					}
				}
   }
  },
  "RemoveItemClicked": {
			"description": "",
			"variables": {
				"detail": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"key": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				},
				"current": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				}
			},
			"root": "callRemove",
			"actions": {
				"assignShoppingCartADP": {
					"module": "vb/action/builtin/assignVariablesAction",
					"parameters": {
						"$page.variables.shoppingCart": {
							"source": {
								"data": "{{ $chain.results.callRemove }}"
							},
							"reset": "none",
							"auto": "always",
							"mapping": {
								"$target.data": {
									"source": "$source.data",
									"reset": "empty"
								}
							}
						},
						"$application.variables.shoppingCartArray": {
							"source": "{{ $chain.results.callRemove }}",
							"reset": "empty"
						}
					}
				},
				"callRemove": {
					"module": "vb/action/builtin/callModuleFunctionAction",
					"parameters": {
						"module": "[[ $page.functions ]]",
						"functionName": "removeItem",
						"params": [
							"{{ $chain.variables.current }}",
							"{{ $chain.variables.detail }}",
							"{{ $chain.variables.key }}",
							"{{ $application.variables.shoppingCartArray }}"
						]
					},
					"outcomes": {
						"success": "assignShoppingCartADP"
					}
				}
			}
		},
  "EmptyCart": {
			"description": "",
			"variables": {
				"detail": {
					"required": true,
					"type": "any",
					"input": "fromCaller"
				}
			},
			"root": "assignVariables2",
			"actions": {
				"assignVariables2": {
					"module": "vb/action/builtin/assignVariablesAction",
					"parameters": {
						"$application.variables.shoppingCartArray": {
							"source": "{{ $page.variables.emptyCart }}",
							"reset": "empty"
						}
					},
					"outcomes": {
						"success": "assignVariables1"
					}
				},
				"assignVariables1": {
					"module": "vb/action/builtin/assignVariablesAction",
					"parameters": {
						"$page.variables.shoppingCart": {
							"source": {
								"data": "{{ $page.variables.emptyCart }}"
							},
							"reset": "none",
							"auto": "always",
							"mapping": {
								"$target.data": {
									"source": "$source.data",
									"reset": "empty"
								}
							}
						}
					}
				}
			}
		},
  "pageLoad": {
   "root": "assignVariables1",
   "description": "",
   "actions": {
    "assignVariables1": {
     "module": "vb/action/builtin/assignVariablesAction",
     "parameters": {
						"$page.variables.shoppingCart": {
							"source": {
								"data": "{{ $application.variables.shoppingCartArray }}"
							},
							"reset": "none",
							"auto": "always"
						}
					}
    }
   }
  },
        "InputTextValueChangeChain": {
            "description": "",
            "variables": {
                "value": {
                    "required": true,
                    "type": "any",
                    "input": "fromCaller"
                },
                "key": {
                    "required": true,
                    "type": "any",
                    "input": "fromCaller"
                },
                "current": {
                    "required": true,
                    "type": "any",
                    "input": "fromCaller"
                }
            },
            "root": "changeQuantity",
            "actions": {
                "assignShoppingCartArray": {
                    "module": "vb/action/builtin/assignVariablesAction",
                    "parameters": {
                        "$application.variables.shoppingCartArray": {
                            "source": "{{ $chain.results.changeQuantity }}",
                            "reset": "empty"
                        }
                    },
                    "outcomes": {
                        "success": "assignShoppingCartADP"
                    }
                },
                "changeQuantity": {
                    "module": "vb/action/builtin/callModuleFunctionAction",
                    "parameters": {
                        "module": "[[ $page.functions ]]",
                        "functionName": "changeQuantity",
                        "params": [
                            "{{ $chain.variables.current }}",
                            "{{ $chain.variables.value }}",
                            "{{ $application.variables.shoppingCartArray }}"
                        ]
                    },
                    "outcomes": {
                        "success": "assignShoppingCartArray"
                    }
                },
                "assignShoppingCartADP": {
                    "module": "vb/action/builtin/assignVariablesAction",
                    "parameters": {
                        "$page.variables.shoppingCart": {
                            "source": {
                                "data": "{{ $application.variables.shoppingCartArray }}"
                            },
                            "reset": "none",
                            "auto": "always",
                            "mapping": {
                                "$target.data": {
                                    "source": "$source.data",
                                    "reset": "empty"
                                }
                            }
                        }
                    }
                }
            }
        }
 },
 "eventListeners": {
  "A9870685072Click": {
			"chains": [
				{
					"chainId": "ProductCLickedAC",
					"parameters": {
						"detail": "{{ $event.detail }}",
						"key": "{{ $current.key }}",
						"current": "{{ $current }}"
					}
				}
			]
		},
  "OJBUTTON14150686701OjAction": {
			"chains": [
				{
					"chainId": "ButtonActionChain",
					"parameters": {
						"detail": "{{ $event.detail }}",
						"key": "{{ $current.key }}",
						"current": "{{ $current }}"
					}
				}
			]
		},
  "A16981333611Click": {
			"chains": [
				{
					"chainId": "RemoveItemClicked",
					"parameters": {
						"detail": "{{ $event.detail }}",
						"key": "{{ $current.key }}",
						"current": "{{ $current }}"
					}
				}
			]
		},
  "A16981333612Click": {
			"chains": [
				{
					"chainId": "EmptyCart",
					"parameters": {
						"detail": "{{ $event.detail }}"
					}
				}
			]
		},
  "vbEnter": {
			"chains": [
				{
					"chainId": "pageLoad",
					"parameters": {}
				}
			]
		},
        "ojInputNumber16981333611Value": {
            "chains": [
                {
                    "chainId": "InputTextValueChangeChain",
                    "parameters": {
                        "value": "{{ $event.detail.value }}",
                        "key": "{{ $current.key }}",
                        "current": "{{ $current }}"
                    }
                }
            ]
        }
 },
 "imports": {
  "components": {
   "oj-list-view": {
				"path": "ojs/ojlistview"
			},
   "oj-menu": {
				"path": "ojs/ojmenu"
			},
   "oj-option": {
				"path": "ojs/ojoption"
			},
   "oj-input-number": {
				"path": "ojs/ojinputnumber"
			},
   "oj-rating-gauge": {
				"path": "ojs/ojgauge"
			},
   "oj-button": {
				"path": "ojs/ojbutton"
			},
   "boot-box": {
				"path": "boot-box/loader"
			},
   "oj-table": {
				"path": "ojs/ojtable"
			},
   "oj-input-text": {
				"path": "ojs/ojinputtext"
			}
  }
 }
}